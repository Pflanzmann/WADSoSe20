<html class="5">

<head>
  <title>AdViz</title>
  <link rel="stylesheet" href="css/style.css" type="text/css">
  </link>
</head>

<body>
  <script src="js/script.js"></script>
  <script>
    var user;
    var contactNummber;

    function loginFunction(username, password) {
      user = loginAsUser(username, password);
      document.getElementById("status").innerHTML = "loged in as " + user.username;
      document.getElementById("contactTable").innerHTML = printContacts(user.isAdmin);
      if (user.isAdmin == true) {
        document.getElementById("addButton").hidden = false;
      }
    }

    function addContactFunction(vorname, nachname, straße, plz, stadt, land, isPrivate) {
      addContact(vorname, nachname, straße, plz, stadt, land, isPrivate);
      document.getElementById("contactTable").innerHTML = printContacts(user.isAdmin);
    }

    function removeContactFunction(isAdmin, index) {
      if (isAdmin == false) {
        return;
      }

      removeContact(index);
      document.getElementById("contactTable").innerHTML = printContacts(user.isAdmin);
    }

    function editFunction(isAdmin, index) {
      if (isAdmin == false) {
        return;
      }
      contactNummber = index;
      edit();
      contact = contacts[index];
      document.getElementById('vorname_Edit').value = contact.vorname;
      document.getElementById('nachname_Edit').value = contact.nachname;
      document.getElementById('straße_Edit').value = contact.straße;
      document.getElementById('plz_Edit').value = contact.plz;
      document.getElementById('stadt_Edit').value = contact.stadt;
      document.getElementById('land_Edit').value = contact.land;
      document.getElementById('privat_Edit').checked = contact.isPrivate;
    }

    function editContactFunction(index, vorname, nachname, straße, plz, stadt, land, isPrivate) {
      editContact(index, vorname, nachname, straße, plz, stadt, land, isPrivate);
      document.getElementById("contactTable").innerHTML = printContacts(user.isAdmin);
    }

    function backToLoginFunction() {
      document.getElementById("addButton").hidden = true;
      backToLogin();
    }


  </script>

  <body onload="  
    hideMain();
    hideAdd();
    hideEdit();
    hideUpdate();">

    <div class="LoginContainer" id="LoginContainer">
      <h1>Login</h1>
      <form action="" method="POST">
        <input type="text" name="username" placeholder="Benutzername" id="username"><br>
        <input type="password" name="password" placeholder="Passwort" id="password"><br>
        <button type="button"
          onclick="loginFunction(document.getElementById('username').value, document.getElementById('password').value);">Login</button>
        <button type="button"
          onclick="registerNewUser(document.getElementById('username').value, document.getElementById('password').value)">Registrieren</button>
      </form>
    </div>


    <div class="Main" id="Main">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d37726382.45182938!2d-6.727292821024105!3d54.751209915060194!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47a84e373f035901%3A0x42120465b5e3b70!2sBerlin!5e0!3m2!1sde!2sde!4v1589217730839!5m2!1sde!2sde"
        width="100%" height="100%"></iframe>

      <div class="MainMenuContainer" id="MainMenuContainer">
        <status id="status">
        </status>

        <h1>Contacts</h1>

        <table id="contactTable">
        </table>

        <br>

        <button hidden id="addButton" type="button" onclick="add()">Add Address</button>
        <button type="button" onclick="backToLoginFunction()">Back to Login</button>
      </div>

      <div id="AddContainer" class="AddContainer">
        <h1>Add</h1>
        <input type="text" name="user" placeholder="Vorname" id="vorname" required><br>
        <input type="text" name="user" placeholder="Nachname" id="nachname" required><br>
        <input type="text" name="user" placeholder="Straße" id="straße" required><br>
        <input type="text" name="user" placeholder="PLZ" id="plz" required><br>
        <input type="text" name="user" placeholder="Stadt" id="stadt" required><br>
        <input type="text" name="user" placeholder="Land" id="land" required><br>
        <label>Privat</label> <input type="checkbox" id="privat"><br><br>
        <button type="button" onclick="hideAdd()">Cancel</button>
        <button type="button" onclick="addContactFunction(
            document.getElementById('vorname').value,
            document.getElementById('nachname').value,
            document.getElementById('straße').value,
            document.getElementById('plz').value,
            document.getElementById('stadt').value,
            document.getElementById('land').value,
            document.getElementById('privat').checked
        );">Apply</button>
      </div>
    </div>

    <div id="EditContainer" class="EditContainer">
      <h1>Edit</h1>
      <input type="text" name="user" placeholder="Vorname" id="vorname_Edit" required><br>
      <input type="text" name="user" placeholder="Nachname" id="nachname_Edit" required><br>
      <input type="text" name="user" placeholder="Straße" id="straße_Edit" required><br>
      <input type="text" name="user" placeholder="PLZ" id="plz_Edit" required><br>
      <input type="text" name="user" placeholder="Stadt" id="stadt_Edit" required><br>
      <input type="text" name="user" placeholder="Land" id="land_Edit" required><br>
      <label>Privat</label> <input type="checkbox" id="privat_Edit"><br><br>
      <button type="button" onclick="hideEdit()">Cancel</button>
      <button type="button" onclick="editContactFunction(
          contactNummber,
          document.getElementById('vorname_Edit').value,
          document.getElementById('nachname_Edit').value,
          document.getElementById('straße_Edit').value,
          document.getElementById('plz_Edit').value,
          document.getElementById('stadt_Edit').value,
          document.getElementById('land_Edit').value,
          document.getElementById('privat_Edit').checked
      );">Apply</button>
    </div>
    </div>



  </body>

</html>